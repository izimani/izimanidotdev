---
interface Props {
  who?: string;
  source?: string;
  sourceUrl?: string;
}

const { who, source, sourceUrl } = Astro.props;
---

<style>
  .quote {
    position: relative;
    font-style: italic;
    font-size: 0.9rem;
    color: light-dark(var(--color-dim-grey), var(--color-lilac-ash));
    padding-left: 1rem;
    margin-left: 1rem;

    &::before {
      position: absolute;
      top: -30px;
      font-size: 72px;
      content: "â€œ";
      left: -8px;
      color: light-dark(var(--color-lilac-ash), var(--color-dim-grey));
    }
  }

  .quote > blockquote > :global(p) {
    margin: 0 1.5rem;
  }

  .quote-caption {
    font-size: 0.8rem;
    color: light-dark(var(--color-dim-grey), var(--color-lilac-ash));
    text-align: right;
    margin-top: 1rem;
  }

  .quote-caption > cite::before {
    content: ", ";
  }
</style>
<figure class="quote">
  <blockquote cite={sourceUrl}>
    <slot />
  </blockquote>
  {
    (who || source) && (
      <figcaption class="quote-caption">
        <span>{who}</span>
        <cite>{source}</cite>
      </figcaption>
    )
  }
</figure>
